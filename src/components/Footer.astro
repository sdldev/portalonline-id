---
const footerLinks = [
    { name: "Beranda", href: "/" },
    { name: "Tutorial", href: "/tutorial" },
    { name: "Tentang Kami", href: "/about" },
    { name: "Kontak", href: "/contact" },
];

const legalLinks = [
    { name: "Privacy", href: "/privacy" },
    { name: "Terms", href: "/terms" },
    { name: "Sitemap", href: "/sitemap" },
];
---

<footer class="footer">
    <!-- Main Footer Row -->
    <div class="footer-main">
        <div class="container footer-row">
            <!-- Logo -->
            <a href="/" class="footer-logo">
                <div class="logo-icon">
                    <img
                        src="/portalonline-40x40.webp"
                        alt="Portal Online Logo"
                        class="logo-icon-img"
                        width="40"
                        height="40"
                        loading="lazy"
                        decoding="async"
                        style="width: 100%; height: 100%; border-radius: 0.75rem; object-fit: cover;"
                    />
                </div>
                <span class="logo-text font-display"
                    >Portal<span class="text-gradient">Online</span></span
                >
            </a>

            <!-- Navigation Links -->
            <nav class="footer-nav">
                {footerLinks.map((link) => <a href={link.href}>{link.name}</a>)}
            </nav>
        </div>
    </div>

    <!-- Bottom Row -->
    <div class="footer-bottom">
        <div class="container footer-bottom-row">
            <span class="copyright"
                >Â© {new Date().getFullYear()} Portal Online. All rights reserved.</span
            >
            <div class="legal-links">
                {legalLinks.map((link) => <a href={link.href}>{link.name}</a>)}
            </div>
        </div>
    </div>
</footer>

<style>
    .footer {
        border-top: 1px solid var(--color-border);
        background: var(--color-bg);
    }

    /* Main Footer */
    .footer-main {
        padding: 2rem 0;
        border-bottom: 1px solid var(--color-border);
    }

    .footer-row {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
    }

    @media (min-width: 1024px) {
        .footer-row {
            flex-direction: row;
            justify-content: space-between;
        }
    }

    /* Logo */
    .footer-logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .logo-icon {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .logo-text {
        font-size: 1.25rem;
        font-weight: 800;
        letter-spacing: -0.02em;
    }

    /* Navigation */
    .footer-nav {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem 1.5rem;
    }

    .footer-nav a {
        font-size: 0.875rem;
        color: var(--color-text-muted);
        transition: color var(--transition-fast);
    }

    .footer-nav a:hover {
        color: var(--color-text);
    }

    /* Bottom Row */
    .footer-bottom {
        padding: 1.25rem 0;
    }

    .footer-bottom-row {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    @media (min-width: 768px) {
        .footer-bottom-row {
            flex-direction: row;
            justify-content: space-between;
        }
    }

    .copyright {
        font-size: 0.75rem;
        color: var(--color-text-subtle);
    }

    .legal-links {
        display: flex;
        gap: 1.5rem;
    }

    .legal-links a {
        font-size: 0.75rem;
        color: var(--color-text-subtle);
        transition: color var(--transition-fast);
    }

    .legal-links a:hover {
        color: var(--color-text);
    }
</style>

<script is:inline>
    function initBackToTop() {
        const backToTopBtn = document.getElementById("back-to-top");
        if (backToTopBtn) {
            const newBtn = backToTopBtn.cloneNode(true);
            backToTopBtn.parentNode?.replaceChild(newBtn, backToTopBtn);

            newBtn.addEventListener("click", () => {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        }
    }

    initBackToTop();
    document.addEventListener("astro:page-load", initBackToTop);
</script>
